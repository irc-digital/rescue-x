{% set call_to_action_modifiers = call_to_action_modifiers ?: [] %}

{% set has_background = false %}
{% set has_position = false %}
{% for call_to_action_modifier in call_to_action_modifiers %}
  {% if call_to_action_modifier starts with 'background-' %}
    {% set has_background = true %}
  {% endif %}
  {% if call_to_action_modifier starts with 'position-' %}
    {% set has_position = true %}
  {% endif %}
{% endfor %}

{% if not has_background %}
  {% set call_to_action_modifiers = call_to_action_modifiers | merge (['background-light']) %}
{% endif %}

{% if not has_position %}
  {% set call_to_action_modifiers = call_to_action_modifiers | merge (['position-middle']) %}
{% endif %}

<div class="rplc-call-to-action{% for call_to_action_modifier in call_to_action_modifiers %} rplc-call-to-action--{{ call_to_action_modifier }}{% endfor %}">
  <a href="{{ call_to_action_url }}" class="rplc-call-to-action__content" data-rpla-hover-target>
    <div class="rplc-call-to-action__text-wrapper">
      <h3 class="rplc-call-to-action__title">{{ call_to_action_title }}</h3>
      <div class="rplc-call-to-action__subtitle">{{ call_to_action_subtitle }}</div>
    </div>
    <div class="rplc-call-to-action__button-wrapper">
      {% include '@atoms/30-button/button.twig' with {
        button_text: call_to_action_button_text,
        button_icon_name: call_to_action_button_icon,
      } only %}
    </div>
  </a>
</div>
