{% import _self as main_menu %}

{% macro _build_leveL_3(item) %}
  <li class="rplc-main-menu__level-3-menu-item">
    {{ item.title }}
  </li>

{% endmacro %}

{% macro _build_leveL_2(item) %}
  {% import _self as main_menu %}

  <li class="rplc-main-menu__level-2-menu-item">
    {{ item.title }}

    {% if item.items is not empty %}
      <ul class="rplc-main-menu__level-3">
        {% for subitem in item.items %}
          {{ main_menu._build_leveL_3(subitem) }}
        {% endfor %}
      </ul>
    {% endif %}

  </li>

{% endmacro %}

{% macro _build_leveL_1(item) %}
  {% import _self as main_menu %}

  <li class="rplc-main-menu__level-1-menu-item">
    <a class="rplc-main-menu__level-1-menu-item-link" href="{{ item.url }}">{{ item.title }}</a>

    {% if item.items is not empty %}
      <ul class="rplc-main-menu__level-2">
        {% for subitem in item.items %}
          {{ main_menu._build_leveL_2(subitem) }}
        {% endfor %}
      </ul>
    {% endif %}

  </li>

{% endmacro %}

{% macro _build_leveL_0(items) %}
  {% import _self as main_menu %}

  <ul class="rplc-main-menu">
    {% for item in items %}
      {{ main_menu._build_leveL_1(item) }}
    {% endfor %}
  </ul>
{% endmacro %}

{% macro build(items) %}
  {% import _self as main_menu %}

  {{ main_menu._build_leveL_0(items) }}
{% endmacro %}

