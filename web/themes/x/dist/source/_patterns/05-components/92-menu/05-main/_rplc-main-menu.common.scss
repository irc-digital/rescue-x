@import 'rplc-main-menu.variables';

.rplc-main-menu {
  $self: &;

  &,
  &__level-2,
  &__level-3,
  &__level-4 {
    list-style: none;
  }

  @media #{$global-navigation-large-device-media-query} {
    background-color: get-neutral-color('white');
    display: flex;
    position: relative;
    width: 1011px;
  }

  //
  // LEVEL 1
  //
  &__level-1-menu-item {
    background-color: get-neutral-color('white');
    border-bottom: 1px solid get-neutral-color('dark-gray');
    position: relative;
    white-space: nowrap;

    &[data-rpl-main-menu-expanded-section] {
      #{$self}__level-2 {
        display: block;

        @media #{$global-navigation-large-device-media-query} {
          display: none;
        }
      }

      #{$self}__level-1-expand-toggle {
        background-color: get-brand-color();
        transform: rotate(180deg);
      }
    }

    @media #{$global-navigation-large-device-media-query} {
      @include line-height('2xs');
      border-bottom-width: 0;
      padding-bottom: get-spacing('m');
      padding-top: get-spacing('m');
      position: static;

      &:first-child {
        border-left: $main-menu-desktop-top-level-border;
      }

      // sass-lint:disable-block mixins-before-declarations
      @include hover {
        background-color: get-brand-color();

        #{$self}__level-2 {
          display: flex;
        }
      }
    }
  }

  &__level-1-menu-item-link,
  &__level-3-menu-item-title,
  &__level-3-menu-item-link {
    display: block;
    height: $main-menu-mobile-level-1-height;
    line-height: 3.2;
    padding: get-spacing();

    @media #{$global-navigation-large-device-media-query} {
      height: auto;
      line-height: initial;
      padding: 0;
    }
  }

  &__level-1-menu-item-link {
    @include font-size('s');
    @include font-weight('bold');
    @include transition;

    overflow: hidden;
    text-overflow: ellipsis;
    text-transform: uppercase;
    white-space: nowrap;

    @media #{$global-navigation-large-device-media-query} {
      border-right: 1px solid get-neutral-color('gray');
      padding: get-spacing('xs') get-spacing('m');

      &--last {
        border-right-width: 0;
      }
    }

  }

  //
  // 1) Type one is the menu that has four levels - like the Who We Are menu
  //
  &__level-1-menu-item--type-1 { // 1
    @media #{$global-navigation-large-device-media-query} {
      #{$self}__level-3 {
        margin-right: rem(52px);
      }

      #{$self}__level-3-menu-item-link {
        padding-left: get-spacing('l');

        // sass-lint:disable-block mixins-before-declarations
        @include hover {
          background-color: get-brand-color('primary-tint-1');
        }
      }
    }
  }

  //
  // 1) Type two is the menu that has four levels - like the Where We Work menu
  //
  &__level-1-menu-item--type-2 { // 1

    #{$self}__level-2-menu-item-title {
      display: none;
    }

    #{$self}__level-4 {
      display: none;
    }
  }


  &__level-1-expand-toggle {
    background: get-neutral-color('light-gray') url('data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%2016%2010%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20stroke-linejoin%3D%22round%22%20stroke-miterlimit%3D%221.414%22%3E%3Cpath%20d%3D%22M14.15.5l1.35%201.398L8%209.5.5%201.9%201.85.5%208%206.8l6.15-6.3V.5z%22%20fill-rule%3D%22nonzero%22%2F%3E%3C%2Fsvg%3E') center center no-repeat;
    background-size: $main-menu-toggle-icon-size;
    cursor: pointer;
    display: block;
    height: $main-menu-mobile-level-1-height;
    position: absolute;
    right: 0;
    top: 0;
    width: rem(64px);

    @media #{$global-navigation-large-device-media-query} {
      display: none;
    }
  }

  //
  // LEVEL 2
  //
  &__level-2 {
    background-color: get-brand-color();
    display: none;
    padding-left: $main-menu-mobile-horizontal-padding;
    padding-right: $main-menu-mobile-horizontal-padding;

    @media #{$global-navigation-large-device-media-query} {
      border: $main-menu-desktop-top-level-border;
      border-top-width: 0;
      left: 0;
      padding: get-spacing('l') $main-menu-desktop-horizontal-padding 0;
      position: absolute;
      top: rem(52px);
      width: rem(1011px);
    }
  }

  &__level-1-expand-toggle,
  &__level-3-expand-toggle {
    border: 0;
    padding: 0;
  }

  &__level-2-menu-item-title {
    @include font-weight('light');
    @include font-size('m');
    padding-top: get-spacing();

    @media #{$global-navigation-large-device-media-query} {
      @include font-size('s');
      margin-bottom: get-spacing('s');
      padding-top: 0;
    }

  }

  &__level-2-menu-item {
    flex-basis: 100%;
  }

  &__level-2-menu-item--last {
    #{$self}__level-3-menu-item {
      &:last-child {
        border-bottom-width: 0;
      }
    }
  }

  //
  // LEVEL 3
  //
  &__level-3-menu-item {
    position: relative;

    &[data-rpl-main-menu-expanded-section] {
      #{$self}__level-4 {
        display: block;
      }

      #{$self}__level-3-expand-toggle {
        background-image: url('data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%2016%2016%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20stroke-linejoin%3D%22round%22%20stroke-miterlimit%3D%221.414%22%3E%3Cpath%20fill-rule%3D%22nonzero%22%20d%3D%22M0%206.872h16v2.255H0z%22%2F%3E%3C%2Fsvg%3E');
      }

      #{$self}__level-3-menu-item-title {
        color: get-neutral-color('white');
      }
    }
  }

  &__level-3-menu-item-link,
  &__level-3-menu-item-title {
    @include font-size('s');
    @include font-weight('bold');
    @include transition;

    display: block;

    // sass-lint:disable-block mixins-before-declarations
    @include hover {
      cursor: pointer;
    }
  }

  &__level-3-expand-toggle {
    background: transparent url('data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%2016%2016%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20stroke-linejoin%3D%22round%22%20stroke-miterlimit%3D%221.414%22%3E%3Cpath%20d%3D%22M16%209.15V6.82H9.296V0H6.674v6.82H0v2.33h6.674V16h2.622V9.15H16z%22%20fill-rule%3D%22nonzero%22%2F%3E%3C%2Fsvg%3E') center center no-repeat;
    cursor: pointer;
    display: block;
    height: $main-menu-toggle-icon-size;
    position: absolute;
    top: rem(28px);
    width: $main-menu-toggle-icon-size;
  }

  //
  // LEVEL 4
  //
  &__level-4-menu-item-link {
    @include font-size('s');
    @include font-weight('light');

    display: block;
  }

  &__level-4-wrapper {
    background-color: get-brand-color('primary-tint-1');
  }
}

// end of file
