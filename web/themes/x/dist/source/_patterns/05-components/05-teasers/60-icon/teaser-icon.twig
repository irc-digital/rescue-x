{#
/**
 * Available variables:
 *   teaser_icon_url - The URL of the resource being teased (optional)
 *   teaser_icon_title - Title
 *   teaser_icon_summary - Summary
 *   teaser_icon_name - Icon
 *   teaser_icon_modifiers - Icon options
 *   teaser_icon_row - Odd / Even
 *
 */
#}

{% set teaser_icon_modifiers = teaser_icon_modifiers ?: [] %}

{% set type = null %}

{% for teaser_icon_modifier in teaser_icon_modifiers %}
  {% if teaser_icon_modifier starts with 'type-' %}
    {% set type = teaser_icon_modifier %}
  {% endif %}
{% endfor %}

{% if type is empty %}
  {% set type = 'type-one' %}
  {% set teaser_icon_modifiers = teaser_icon_modifiers | merge([type]) %}
{% endif %}

<div class="rplc-teaser-icon{% for teaser_icon_modifier in teaser_icon_modifiers %} rplc-teaser-icon--{{ teaser_icon_modifier }}{% endfor %}">
  {% if teaser_icon_url %}
  <a href="{{ teaser_icon_url }}" class="rplc-teaser-icon__wrapper-link">
  {%  endif %}
    <div class="rplc-teaser-icon__icon">
      {% include '@atoms/05-icon/icon.twig' with {
        icon_name: teaser_icon_icon_name,
        icon_modifiers: teaser_icon_icon_modifiers,
      } only %}
    </div>
    <div class="rplc-teaser-icon__text-wrapper">
      <div class="rplc-teaser-icon__title">{{ teaser_icon_title }}</div>
      {% if teaser_icon_summary and type == 'type-one' %}
      <div class="rplc-teaser-icon__summary">{{ teaser_icon_summary }}</div>
      {% endif %}
    </div>
  {% if teaser_icon_url %}
  </a>
  {%  endif %}
</div>