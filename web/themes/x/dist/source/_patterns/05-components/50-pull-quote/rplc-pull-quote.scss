@import 'rplc-pull-quote.variables';

// if no modifier is used the quote should be full width
.rplc-pull-quote {
  $self: &;

  background-color: $pull-quote-background-color;
  margin-top: $embeddable-top-margin;
  width: 100%;

  &__content {
    margin-left: auto;
    margin-right: auto;
    max-width: $well-width-inner;
  }

  &__text-wrapper {
    height: auto;
    margin-left: auto;
    margin-right: auto;
    padding: safe-map-get($pull-quote-text-padding, 'mobile');
    position: relative;

    @include breakpoint(phablet) {
      padding: safe-map-get($pull-quote-text-padding, 'phablet');
    }
  }

  &__text {
    @include typography-text-large;
    @include font-style('italic');
    position: relative;

    //
    // 1) the left padding of the quote maek is based around the size of the quote icon
    //
    @include breakpoint(phablet) {
      padding-left: safe-map-get($pull-quote-icon-size, 'phablet') + get-spacing('s'); // 1
    }

    @include breakpoint(tablet) {
      margin-left: 0;
    }

    @media only screen and (min-width: #{$pull-quote-large-screen-breakpoint}) {
      padding-left: safe-map-get($pull-quote-icon-size, 'desktop') + get-spacing('s');
    }

    &::before {
      background: url('data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%2064%2064%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20stroke-linejoin%3D%22round%22%20stroke-miterlimit%3D%221.414%22%3E%3Cpath%20d%3D%22M11.8%2048.3V33c0-10.8%205.3-18.5%2016.3-20.1v7.3c-5.6%201.7-6.4%205.5-6.5%2010.8h6.5v17.3H11.8zm23.8%200V33c0-10.8%205.4-18.5%2016.3-20.1v7.3c-5.6%201.7-6.4%205.5-6.5%2010.8h6.5v17.3H35.6z%22%20fill%3D%22%23fdc513%22%20fill-rule%3D%22nonzero%22%2F%3E%3C%2Fsvg%3E') no-repeat center center;
      background-size: safe-map-get($pull-quote-icon-size, 'mobile');
      content: '';
      display: block;
      height: safe-map-get($pull-quote-icon-size, 'mobile');
      left: -#{get-spacing('xs')};
      position: absolute;
      top: -60px;
      width: safe-map-get($pull-quote-icon-size, 'mobile');

      @include breakpoint(phablet) {
        background-size: safe-map-get($pull-quote-icon-size, 'phablet');
        height: safe-map-get($pull-quote-icon-size, 'phablet');
        top: -10px;
        width: safe-map-get($pull-quote-icon-size, 'phablet');
      }

      @media only screen and (min-width: #{$pull-quote-large-screen-breakpoint}) {
        background-size: safe-map-get($pull-quote-icon-size, 'desktop');
        height: safe-map-get($pull-quote-icon-size, 'desktop');
        width: safe-map-get($pull-quote-icon-size, 'desktop');
      }
    }
  }

  &--placement-left,
  &--placement-right {
    // drop standard row and floats down a level on to content*
    // outer div to full width and standard row to content, whit bg on text-wrapper bq
    //white bg on wrapper for float and on outer for full width
    //margins on blockquote
    #{ $self }__text-wrapper {
      background-color: $pull-quote-background-color;
      margin: 0;

      @include breakpoint(phablet) {
        max-width: rem(450px);
      }

      @media only screen and (min-width: #{$pull-quote-large-screen-breakpoint}) {
        max-width: rem(550px);
      }
    }
  }

  &--placement-left {

    @include breakpoint(phablet) {
      #{ $self }__text-wrapper {
        float: left;
        margin-right: rem(140px);
      }
    }
  }

  &--placement-right {

    @include breakpoint(phablet) {
      #{ $self }__text-wrapper {
        float: right;
        margin-left: get-spacing('xl');
      }
      @include breakpoint(desktop) {
        #{ $self }__text-wrapper {
          margin-left: -#{rem(90px)};
        }
    }
    }
  }

  &--background-transparent {
    background-color: transparent;
  }
}

// end of file
