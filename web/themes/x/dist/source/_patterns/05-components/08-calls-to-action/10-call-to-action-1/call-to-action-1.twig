{#
/**
 * Call to action 1
 *
 * Available variables:
 *   call_to_action_1_section_heading_title       - Title text above the component
 *   call_to_action_1_section_heading_description - Short description for component content
 *   call_to_action_1_section_heading_icon        - Optional icon displayed in front of the title
 *   call_to_action_1_modifiers                   - Array of modifiers
 *   call_to_action_1_url                         - Link from CTA
 *   call_to_action_1_title                       - Title text inside component
 *   call_to_action_1_subtitle                    - Subtitle text inside component
 *   call_to_action_1_button_text                 - CTA button text
 *   call_to_action_1_button_icon                 - CTA button icon
 */
#}
{% spaceless %}
  {% import '@atoms/_rpl.macros.twig' as rpl %}

  {% set call_to_action_1_modifiers = call_to_action_1_modifiers ?: [] %}

  {% set has_background = false %}
  {% for call_to_action_1_modifier in call_to_action_1_modifiers %}
    {% if call_to_action_1_modifier starts with 'background-' %}
      {% set has_background = true %}
    {% endif %}
  {% endfor %}

  {% if not has_background %}
    {% set call_to_action_1_modifiers = call_to_action_1_modifiers | merge (['background-light']) %}
  {% endif %}

{% endspaceless %}
<div{% if call_to_action_1_id %} id="{{ call_to_action_1_id }}"{% endif %} class="rplc-call-to-action-1{% for call_to_action_1_modifier in call_to_action_1_modifiers %} rplc-call-to-action-1--{{ call_to_action_1_modifier }}{% endfor %}">
  {% include '@molecules/20-section-heading/section-heading.twig' with {
    section_heading_title: call_to_action_1_section_heading_title,
    section_heading_description: call_to_action_1_section_heading_description,
    section_heading_icon: call_to_action_1_section_heading_icon
  } only %}
  <div class="rplc-call-to-action-1__content">
    <a href="{{ call_to_action_1_url }}" class="rplc-call-to-action-1__content-wrapper" data-rpla-hover-target>
      <div class="rplc-call-to-action-1__text-wrapper">
        <h3 class="rplc-call-to-action-1__title">{{ rpl.markdown(call_to_action_1_title) }}</h3>
        <div class="rplc-call-to-action-1__subtitle">{{ call_to_action_1_subtitle }}</div>
      </div>
      <div class="rplc-call-to-action-1__button-wrapper">
        {% include '@atoms/30-button/button.twig' with {
          button_text: call_to_action_1_button_text,
          button_icon_name: call_to_action_1_button_icon,
        } only %}
      </div>
    </a>
  </div>
</div>
