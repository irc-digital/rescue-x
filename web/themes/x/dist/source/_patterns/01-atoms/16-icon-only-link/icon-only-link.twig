{% spaceless %}

{% set icon_only_link_modifiers = icon_only_link_modifiers ?: [] %}

{% if icon_only_link_url is not empty %}
  {% set icon_only_link_tag = 'a' %}
{% elseif icon_only_link_tag is empty %}
  {% set icon_only_link_tag = 'div' %}
{% endif %}

{% set type = null %}
{% set subtype = null %}
{% for icon_only_link_modifier in icon_only_link_modifiers %}
  {% if icon_only_link_modifier starts with 'type-' %}
    {% set type = icon_only_link_modifier %}
  {% endif %}
  {% if icon_only_link_modifier starts with 'subtype-' %}
    {% set subtype = icon_only_link_modifier %}
  {% endif %}
{% endfor %}

{% if type is empty %}
  {% set type = 'type-one' %}
  {% set icon_only_link_modifiers = icon_only_link_modifiers | merge([type]) %}
{% endif %}

{% if type == 'type-two' or type == 'type-three' or type == 'type-four' %}
  {% set mod = 'fill-third-party-hover' %}
  {% set icon_only_link_icon_modifiers = [mod] %}
{% else %}
  {% set mod = 'fill-third-party-hover' %}
  {% if subtype == 'subtype-inverse' %}
    {% set mod = 'fill-third-party-inverse' %}
  {% endif %}

  {% set icon_only_link_icon_modifiers = [mod] %}
{% endif %}

{% endspaceless %}
<{{ icon_only_link_tag }}{% if icon_only_link_url %} href="{{ icon_only_link_url }}"{% endif %} class="rpla-icon-only-link{% for icon_only_link_modifier in icon_only_link_modifiers %} rpla-icon-only-link--{{ icon_only_link_modifier }}{% endfor %}" data-rpla-hover-target>
  <span class="rpla-icon-only-link__icon-wrapper">
    {% include '@atoms/56-icon/icon.twig' with {
      icon_name: icon_only_link_name,
      icon_modifiers: icon_only_link_icon_modifiers,
    } only %}
  </span>
</{{ icon_only_link_tag }}>