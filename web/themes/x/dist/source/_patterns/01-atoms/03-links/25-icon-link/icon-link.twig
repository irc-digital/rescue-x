{% set icon_link_modifiers = icon_link_modifiers ?: [] %}

{% set type = null %}
{% set subtype = null %}
{% for icon_link_modifier in icon_link_modifiers %}
  {% if icon_link_modifier starts with 'type-' %}
    {% set type = icon_link_modifier %}
  {% endif %}
  {% if icon_link_modifier starts with 'subtype-' %}
    {% set subtype = icon_link_modifier %}
  {% endif %}
{% endfor %}

{% if type is empty %}
  {% set type = 'type-one' %}
  {% set icon_link_modifiers = icon_link_modifiers | merge([type]) %}
{% endif %}

{% if type == 'type-two' or type == 'type-three' or type == 'type-four' %}
  {% set mod = 'fill-third-party-hover' %}
  {% set icon_link_icon_modifiers = [mod] %}
{% else %}
  {% set mod = null %}
  {% if subtype == 'subtype-inverse' %}
    {% set mod = 'fill-third-party-inverse' %}
  {% endif %}

  {% set icon_link_icon_modifiers = [mod] %}
{% endif %}

<a class="rpla-icon-link{% for icon_link_modifier in icon_link_modifiers %} rpla-icon-link--{{ icon_link_modifier }}{% endfor %}" href="{{ icon_link_url }}" data-rpla-hover-target>
  <span class="rpla-icon-link__icon-wrapper">
    {% include '@atoms/15-images/20-icon/icon.twig' with {
      icon_name: icon_link_name,
      icon_modifiers: icon_link_icon_modifiers,
    } only %}
  </span>
</a>